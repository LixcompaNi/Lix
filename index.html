<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LIX WALLET | Stars Edition</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #0b0e17; color: white; font-family: -apple-system, BlinkMacSystemFont, sans-serif; overflow-x: hidden; }
        .glass { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .admin-panel { display: none; position: fixed; inset: 0; background: #0b0e17; z-index: 100; overflow-y: auto; padding: 20px; }
        .lix-gradient { background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%); }
        .card-ton { background: linear-gradient(135deg, #24a1de 0%, #1c82b5 100%); }
        .card-lix { background: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%); }
        .star-button { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: black; }
        .address-box { font-family: monospace; font-size: 10px; word-break: break-all; }
    </style>
</head>
<body class="max-w-md mx-auto">

    <header class="p-6 flex justify-between items-center sticky top-0 bg-[#0b0e17]/80 backdrop-blur-md z-10">
        <h1 class="text-2xl font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500">LIX WALLET</h1>
        <div id="admin-badge" class="hidden bg-red-500/20 text-red-400 text-[10px] font-bold px-3 py-1 rounded-full border border-red-500/50">OWNER MODE</div>
    </header>

    <main class="px-4 space-y-6 pb-24">
        
        <section class="glass p-5 rounded-[2rem] border-blue-500/20">
            <div class="flex items-center gap-3 mb-3">
                <div class="p-2 bg-blue-500 rounded-lg text-lg">üíé</div>
                <div>
                    <h3 class="font-bold text-sm">Main TON Wallet</h3>
                    <p class="text-[9px] text-blue-400 uppercase font-bold tracking-widest">–ê–¥—Ä–µ—Å –¥–ª—è –≤—ã–ø–ª–∞—Ç</p>
                </div>
            </div>
            <div class="bg-black/30 p-3 rounded-xl border border-white/5 relative">
                <p class="address-box text-gray-400 pr-8" id="my-address">UQB4nPZHmv-krk6ayZ4Iy4BstgnSEpYOQHwYIXRsBBbTxF1V</p>
                <button onclick="copyAddress()" class="absolute right-2 top-1/2 -translate-y-1/2 opacity-50">üìã</button>
            </div>
        </section>

        <section>
            <h3 class="text-gray-400 text-[10px] font-bold uppercase tracking-widest mb-4 px-2">Market Assets</h3>
            <div id="market-list" class="grid grid-cols-2 gap-3">
                </div>
        </section>

        <section class="glass p-6 rounded-[2.5rem] border-yellow-500/20 shadow-xl shadow-yellow-500/5">
            <div class="text-center mb-5">
                <div class="inline-block p-3 bg-yellow-500/10 rounded-full mb-2">‚≠ê</div>
                <h3 class="font-bold text-sm">–í—ã–ø—É—Å—Ç–∏—Ç—å —Å–≤–æ—é –º–æ–Ω–µ—Ç—É</h3>
                <p class="text-[10px] text-gray-500">–ú–æ–Ω–µ—Ç–∞ –ø–æ—è–≤–∏—Ç—Å—è –≤ –æ–±—â–µ–º —Å–ø–∏—Å–∫–µ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã</p>
            </div>
            
            <input type="text" id="user-coin-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä. MYCOIN)" 
                   class="w-full bg-white/5 border border-white/10 p-4 rounded-2xl mb-4 focus:border-yellow-500 outline-none text-center font-bold">
            
            <button onclick="userPay()" class="w-full py-4 star-button rounded-2xl font-black text-xs uppercase shadow-lg flex items-center justify-center gap-2 transition-transform active:scale-95">
                –û–ø–ª–∞—Ç–∏—Ç—å <span id="user-price-label">100</span> ‚≠ê
            </button>
        </section>
    </main>

    <div id="admin-screen" class="admin-panel">
        <div class="flex justify-between items-center mb-8 bg-red-500/10 p-4 rounded-2xl border border-red-500/20">
            <h2 class="text-xl font-black text-red-500 uppercase">üëë Admin Console</h2>
            <button onclick="closeAdmin()" class="bg-white/10 p-2 rounded-full font-bold">‚úï</button>
        </div>
        <div class="space-y-4">
            <div class="glass p-5 rounded-3xl">
                <label class="text-[10px] font-bold text-gray-400 uppercase mb-2 block">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–µ–Ω—ã –¥–ª—è —é–∑–µ—Ä–æ–≤</label>
                <input type="number" id="adm-price" class="w-full bg-black/40 p-4 rounded-2xl mb-3 border border-white/10 outline-none" placeholder="–¶–µ–Ω–∞ –≤ Stars">
                <button onclick="updatePrice()" class="w-full py-3 bg-blue-600 rounded-xl text-xs font-bold">–û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—É</button>
            </div>
            <div class="glass p-5 rounded-3xl border-red-500/20">
                <label class="text-[10px] font-bold text-red-400 uppercase mb-2 block">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤—ã–ø—É—Å–∫ (–ê–¥–º–∏–Ω)</label>
                <input type="text" id="adm-coin-name" class="w-full bg-black/40 p-4 rounded-2xl border border-white/10 outline-none mb-2" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–Ω–µ—Ç—ã">
                <input type="text" id="adm-coin-price" class="w-full bg-black/40 p-4 rounded-2xl border border-white/10 outline-none mb-4" placeholder="–¶–µ–Ω–∞ (–Ω–∞–ø—Ä. 1.00 TON)">
                <button onclick="adminCreateCoin()" class="w-full py-4 bg-red-600 rounded-2xl font-black text-xs uppercase">–í—ã–ø—É—Å—Ç–∏—Ç—å –Ω–∞ —Ä—ã–Ω–æ–∫</button>
            </div>
        </div>
    </div>

    <nav class="fixed bottom-6 left-6 right-6 glass p-2 rounded-full flex justify-around items-center z-50">
        <button class="p-3 bg-white/10 rounded-full">üè†</button>
        <button onclick="openAdmin()" class="p-3 text-gray-500 opacity-30">‚öôÔ∏è</button>
    </nav>

    <script>
        const webApp = window.Telegram.WebApp;
        webApp.ready();
        webApp.expand();

        const ADMIN_KEY = "LIX-ADMIN-2026-X";
        let marketCoins = JSON.parse(localStorage.getItem('market')) || [{name: "LIX COIN", price: "1.00 TON"}];

        function copyAddress() {
            const addr = document.getElementById('my-address').innerText;
            navigator.clipboard.writeText(addr);
            webApp.showAlert("–ê–¥—Ä–µ—Å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!");
        }

        function renderMarket() {
            const list = document.getElementById('market-list');
            list.innerHTML = `
                <div class="card-ton p-4 rounded-2xl relative overflow-hidden shadow-lg border border-white/10">
                    <div class="relative z-10">
                        <div class="flex justify-between items-start mb-4">
                            <span class="text-[10px] font-bold bg-white/20 px-2 py-0.5 rounded italic">TON / USDT</span>
                            <div class="text-[10px] bg-green-400 text-black font-bold px-1.5 rounded-full">+2.1%</div>
                        </div>
                        <div class="text-xl font-bold">$5.42</div>
                    </div>
                </div>`;
            
            marketCoins.forEach(coin => {
                list.innerHTML += `
                <div class="card-lix p-4 rounded-2xl relative overflow-hidden shadow-lg border border-white/10">
                    <div class="relative z-10">
                        <div class="flex justify-between items-start mb-4">
                            <span class="text-[10px] font-bold bg-white/20 px-2 py-0.5 rounded uppercase font-black tracking-widest">${coin.name}</span>
                            <div class="text-[8px] bg-white/30 px-1.5 rounded uppercase font-bold">Official</div>
                        </div>
                        <div class="text-xl font-bold">${coin.price}</div>
                    </div>
                </div>`;
            });
        }

        // –§–£–ù–ö–¶–ò–Ø –û–ü–õ–ê–¢–´ STARS
        async function userPay() {
            const coinName = document.getElementById('user-coin-name').value;
            const price = document.getElementById('user-price-label').innerText;

            if (!coinName) {
                webApp.showAlert("–°–Ω–∞—á–∞–ª–∞ –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±—É–¥—É—â–µ–π –º–æ–Ω–µ—Ç—ã!");
                return;
            }

            webApp.showConfirm(`–í—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ –ø–æ–∫—É–ø–∫—É –º–æ–Ω–µ—Ç—ã "${coinName}" –∑–∞ ${price} Stars?`, (confirmed) => {
                if (confirmed) {
                    // –ó–¥–µ—Å—å –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ–∫–Ω–æ –æ–ø–ª–∞—Ç—ã Telegram. 
                    // –î–ª—è —Ä–∞–±–æ—Ç—ã –Ω—É–∂–µ–Ω invoice_url, –∫–æ—Ç–æ—Ä—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–≤–æ–π –±–æ—Ç.
                    try {
                        webApp.openInvoice("https://t.me/invoice/link_placeholder", (status) => {
                            if (status === 'paid') {
                                webApp.showAlert("–£—Å–ø–µ—à–Ω–æ! –ú–æ–Ω–µ—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞.");
                            }
                        });
                    } catch (e) {
                        webApp.showAlert("–û–ø–ª–∞—Ç–∞ Stars –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞! –ü–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –ø—Ä–∏–≤—è–∑–∫–∏ –±–æ—Ç–∞ –≤ BotFather —ç—Ç–æ –æ–∫–Ω–æ —Å—Ç–∞–Ω–µ—Ç –ø–ª–∞—Ç–µ–∂–Ω—ã–º.");
                    }
                }
            });
        }

        function openAdmin() { 
            const pass = prompt("–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞ OWNER:");
            if (pass === ADMIN_KEY) { 
                document.getElementById('admin-screen').style.display = 'block'; 
                document.getElementById('admin-badge').classList.remove('hidden'); 
            } 
        }

        function closeAdmin() { document.getElementById('admin-screen').style.display = 'none'; }

        function updatePrice() {
            const val = document.getElementById('adm-price').value;
            if(val) {
                document.getElementById('user-price-label').innerText = val;
                webApp.showAlert("–¶–µ–Ω–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∞!");
            }
        }

        function adminCreateCoin() {
            const name = document.getElementById('adm-coin-name').value;
            const price = document.getElementById('adm-coin-price').value;
            if(name && price) {
                marketCoins.push({name, price});
                localStorage.setItem('market', JSON.stringify(marketCoins));
                renderMarket();
                document.getElementById('adm-coin-name').value = '';
                closeAdmin();
                webApp.showAlert("–ú–æ–Ω–µ—Ç–∞ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø—É—â–µ–Ω–∞ –Ω–∞ —Ä—ã–Ω–æ–∫!");
            }
        }

        renderMarket();
    </script>
</body>
</html>
